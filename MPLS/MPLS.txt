ğŸ—ï¸ Architecture gÃ©nÃ©rale du lab

Ton lab repose sur une architecture classique de rÃ©seau opÃ©rateur :
	â€¢	1 routeur P (Provider) â†’ cÅ“ur MPLS qui ne fait que commuter des labels (pas de routes clients).
	â€¢	2 routeurs PE (Provider Edge) : PE1 et PE2 â†’ points dâ€™entrÃ©e/sortie des clients dans le rÃ©seau MPLS.
	â€¢	Plusieurs rÃ©seaux clients (CE - Customer Edge) connectÃ©s aux PE.

ğŸ”¹ CÅ“ur du rÃ©seau (P et interconnexions PE-P)
	â€¢	Le cÅ“ur du rÃ©seau utilise OSPF uniquement pour lâ€™infrastructure du fournisseur.
	â€¢	Il transporte uniquement des routes internes au SP, et aucune route client.
	â€¢	Cela permet :
	â€¢	Une meilleure scalabilitÃ©
	â€¢	Une sÃ©paration claire entre le rÃ©seau du provider et celui des clients
	â€¢	Une architecture plus simple et propre

â¸»

ğŸ” SÃ©paration des clients avec VRF

Sur les routeurs PE, tu as configurÃ© plusieurs VRF (Virtual Routing and Forwarding).

Chaque VRF :
	â€¢	ReprÃ©sente un client diffÃ©rent
	â€¢	PossÃ¨de sa propre table de routage sÃ©parÃ©e
	â€¢	Permet dâ€™utiliser des adresses IP qui se chevauchent entre clients sans conflit

ğŸ”„ DiffÃ©rents protocoles de routage cÃ´tÃ© client

Chaque VRF utilise un protocole diffÃ©rent selon le type de client :
	â€¢	âœ… OSPF â†’ pour les grandes entreprises avec routage dynamique
	â€¢	âœ… Routage statique â†’ pour petits sites ou anciens rÃ©seaux
	â€¢	âœ… EIGRP â†’ pour environnements principalement Cisco

ğŸ‘‰ Cela montre que MPLS L3 VPN peut transporter des routes provenant de protocoles variÃ©s.

â¸»

ğŸ“Œ RD et RT : isolation et connectivitÃ© contrÃ´lÃ©e

ğŸ”¹ Route Distinguisher (RD)

Le RD permet de rendre uniques les routes clients dans MP-BGP, mÃªme si deux clients utilisent les mÃªmes adresses IP (ex : 10.0.0.0/8).

ğŸ”¹ Route Target (RT)

Les RT contrÃ´lent :
	â€¢	Quelles routes sont exportÃ©es par un PE
	â€¢	Quelles routes sont importÃ©es par un autre PE

ğŸ‘‰ Câ€™est grÃ¢ce aux RT que tu peux :
	â€¢	Soit isoler totalement des clients
	â€¢	Soit permettre une communication contrÃ´lÃ©e entre certains sites

â¸»

ğŸ” MP-BGP : le cÅ“ur du VPN MPLS

Entre PE1 et PE2, tu utilises MP-BGP (Multiprotocol BGP) pour Ã©changer des routes VPNv4.

Ces routes contiennent :
	â€¢	Le prÃ©fixe client
	â€¢	Le RD
	â€¢	Les RT
	â€¢	Le label MPLS

ğŸ‘‰ MP-BGP est donc lâ€™Ã©lÃ©ment clÃ© qui permet :
	â€¢	Le transport des routes clients Ã  travers le backbone MPLS
	â€¢	Lâ€™Ã©tablissement de la connectivitÃ© VPN de bout en bout

â¸»

ğŸ”€ Redistribution de routes sur les PE uniquement

Toute la redistribution entre :
	â€¢	OSPF / EIGRP / statique (cÃ´tÃ© client)
	â€¢	BGP (cÃ´tÃ© provider)

ğŸ‘‰ est effectuÃ©e uniquement sur les routeurs PE.

Tu utilises des route-maps pour :
	â€¢	Filtrer les routes
	â€¢	ContrÃ´ler prÃ©cisÃ©ment ce qui est annoncÃ©
	â€¢	Ã‰viter les boucles de routage

Cela reflÃ¨te une pratique rÃ©elle des opÃ©rateurs et permet de garder le cÅ“ur MPLS indÃ©pendant des protocoles clients.

â¸»

âœ… Conclusion du lab

Ton laboratoire montre concrÃ¨tement que MPLS L3 VPN permet Ã  plusieurs clients, utilisant diffÃ©rents protocoles de routage, de partager en toute sÃ©curitÃ© la mÃªme infrastructure de fournisseur.
